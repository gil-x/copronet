<!doctype html>
<html lang="{{ .Site.LanguageCode }}">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{ if .Title }}{{ .Title }} | {{ end }}{{ .Site.Title }}</title>
        <meta
            name="description"
            content="{{ if .Params.description }}{{ .Params.description }}{{ else }}Site de test{{ end }}"
        />
        <!-- Compilation SCSS avec Hugo Pipes -->
        {{ $sass := resources.Get "scss/main.scss" }} {{ $maincss := $sass |
        css.Sass | minify }}
        <link rel="stylesheet" href="{{ $maincss.Permalink }}" />

        <!-- Conditional CSS -->
        {{ range .Params.styles }} {{ $css := resources.Get (printf
        "scss/%s.scss" .) | css.Sass | minify }}
        <link rel="stylesheet" href="{{ $css.RelPermalink }}" />
        {{ end }}
    </head>

    <body class="body">
        <!-- DESIGN TEST -->
        <div class="design">
            <img
                class="design__mobile"
                src="/img/home_mobile_414.webp"
                alt=""
            />
            <img
                class="design__desktop"
                src="/img/home_desktop_1440.webp"
                alt=""
            />
        </div>

        <div class="fixed">
            <a class="cta-btn-mini" href="/devis-gratuit-sous-24h">Contact</a>
            <a class="cta-btn-mini" href="/devis-gratuit-sous-24h"
                >Devis gratuit sous 24h</a
            >
            <a class="cta-btn-mini" href="/notre-offre">Notre offre</a>
        </div>

        <header class="header">
            <a class="header__logo" href="/">
                <img
                    class="header__logo__img"
                    src="/img/logo.svg"
                    alt="Copronet logo"
                    title="Copronet"
                />
            </a>

            {{ partial "menu.html" . }}

            <a class="header__call-menu">
                <img
                    class="header__call-menu-icon"
                    src="/img/menu_icon5.svg"
                    alt="call menu"
                    title="call menu"
                />
            </a>
        </header>

        {{ block "main" . }}{{ end }} {{ partial "footer.html" . }}

        <!-- Common JS -->
        {{ $mainjs := resources.Get "js/main.js" }} {{ if $mainjs }} {{ $mainjs
        = $mainjs | js.Build }}
        <script type="module" src="{{ $mainjs.RelPermalink }}"></script>
        {{ else }} {{ errorf "Fichier JS principal introuvable : js/main.js" }}
        {{ end }}

        <!-- Conditional JS -->
        {{ range .Params.scripts }} {{ $jsPath := printf "js/%s.js" . }} {{ $js
        := resources.Get $jsPath }} {{ if $js }} {{ $js = $js | js.Build }}
        <script type="module" src="{{ $js.RelPermalink }}"></script>
        {{ else }} {{ warnf "Fichier JS introuvable : %s" $jsPath }} {{ end }}
        {{ end }}
    </body>
</html>
